<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hair by Monica ‚Äî S√≥ de Segunda</title>
  <meta name="description" content="Agendamento simples e elegante. Escolha o servi√ßo, selecione um hor√°rio dispon√≠vel e confirme pelo WhatsApp." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    /* =========
       Design System
       ========= */
    :root{
      --bg:#f7f6f4;
      --surface:#ffffff;
      --text:#1f1f1f;
      --muted:#6b6b6b;
      --brand:#8c6a55;      /* nude premium */
      --brand-strong:#6f523f;
      --ok:#2e7d32;
      --warn:#f9a825;
      --danger:#c62828;
      --border:#e6e2dc;
      --shadow:0 8px 24px rgba(0,0,0,.08);
      --radius:14px;
      --radius-sm:10px;
      --space:20px;
      --space-lg:28px;
      --space-xl:40px;
    }

    /* Base */
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif;
      color:var(--text);
      background:var(--bg);
      line-height:1.5;
    }
    a{color:var(--brand);text-decoration:none}
    a:hover{color:var(--brand-strong)}
    img{max-width:100%;display:block}

    /* Layout */
    .container{
      width:100%;
      max-width:1000px;
      margin:0 auto;
      padding:0 var(--space);
    }
    header{
      position:sticky; top:0; z-index:10;
      background:rgba(247,246,244,.85);
      backdrop-filter:saturate(180%) blur(8px);
      border-bottom:1px solid var(--border);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      height:64px;
    }
    .brand{
      display:flex; align-items:center; gap:12px;
      font-weight:700; letter-spacing:.2px;
    }
    .brand-mark{
      width:36px; height:36px; border-radius:50%;
      background:linear-gradient(135deg,var(--brand),var(--brand-strong));
      box-shadow:var(--shadow);
    }
    .nav-actions{
      display:flex; gap:10px;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      gap:10px; padding:10px 16px; border-radius:999px;
      border:1px solid var(--border); background:var(--surface);
      color:var(--text); font-weight:600; transition:.2s ease;
    }
    .btn:hover{box-shadow:var(--shadow)}
    .btn-primary{
      background:var(--brand); color:#fff; border-color:transparent;
    }
    .btn-primary:hover{background:var(--brand-strong)}
    .btn-icon{padding:10px}

    main{padding:var(--space-lg) 0 var(--space-xl)}

    /* Hero */
    .hero{
      display:grid; gap:var(--space-lg);
      grid-template-columns:1.2fr .8fr;
    }
    .card{
      background:var(--surface);
      border:1px solid var(--border);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:var(--space-lg);
    }
    .card h2{margin:0 0 8px}
    .sub{color:var(--muted); margin:0}
    .meta{
      display:grid; gap:10px; margin-top:16px;
      grid-template-columns:repeat(3,1fr);
    }
    .meta .pill{
      border:1px solid var(--border); border-radius:999px;
      padding:8px 12px; color:var(--muted); font-weight:600; text-align:center;
      background:#fff;
    }

    /* Services */
    .section{margin-top:var(--space-xl)}
    .section h3{margin:0 0 6px}
    .section p{color:var(--muted); margin:0 0 var(--space)}

    .grid{
      display:grid; gap:var(--space);
      grid-template-columns:repeat(2,1fr);
    }
    .service{
      display:flex; flex-direction:column; gap:12px;
      border:1px solid var(--border); border-radius:var(--radius-sm);
      padding:var(--space); background:#fff;
    }
    .service-header{display:flex; align-items:center; gap:12px}
    .service-icon{
      width:40px; height:40px; border-radius:10px;
      background:linear-gradient(135deg,#fff,var(--bg));
      border:1px solid var(--border);
      display:flex; align-items:center; justify-content:center;
      font-size:20px;
    }
    .service-title{margin:0; font-weight:700}
    .service-meta{color:var(--muted); font-weight:600}
    .service-desc{color:var(--text)}
    .service-actions{display:flex; gap:10px; flex-wrap:wrap}

    /* Schedule */
    .schedule{
      display:flex; flex-direction:column; gap:12px;
    }
    .legend{display:flex; gap:12px; flex-wrap:wrap; color:var(--muted)}
    .dot{width:10px; height:10px; border-radius:50%}
    .dot.ok{background:var(--ok)}
    .dot.warn{background:var(--warn)}
    .dot.danger{background:var(--danger)}

    .slots{
      display:grid; gap:10px;
      grid-template-columns:repeat(3,1fr);
    }
    .slot{
      padding:10px 12px; border:1px solid var(--border);
      border-radius:999px; text-align:center; font-weight:600;
      background:#fff; cursor:pointer; transition:.15s ease;
    }
    .slot[disabled]{opacity:.45; cursor:not-allowed}
    .slot:hover:not([disabled]){box-shadow:var(--shadow)}

    /* Footer */
    footer{
      margin-top:var(--space-xl);
      border-top:1px solid var(--border);
      background:#fff;
    }
    .footer-inner{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; padding:var(--space-lg) 0;
      color:var(--muted);
    }

    /* Responsive */
    @media (max-width: 900px){
      .hero{grid-template-columns:1fr}
      .grid{grid-template-columns:1fr}
      .slots{grid-template-columns:repeat(2,1fr)}
      .meta{grid-template-columns:1fr 1fr}
    }
    @media (max-width: 520px){
      .slots{grid-template-columns:1fr}
      .nav{height:auto; padding:12px 0; gap:10px; flex-wrap:wrap}
      .footer-inner{flex-direction:column; align-items:flex-start}
    }
  </style>
</head>

<body>
  <!-- ========= Header / Navega√ß√£o ========= -->
  <header aria-label="Barra de navega√ß√£o">
    <div class="container nav">
      <div class="brand" aria-label="Identidade visual">
        <span class="brand-mark" aria-hidden="true"></span>
        <span>Hair by Monica ‚Äî S√≥ de Segunda</span>
      </div>
      <nav class="nav-actions" aria-label="A√ß√µes principais">
        <a class="btn" href="#servicos">Servi√ßos</a>
        <a class="btn" href="#agendar">Hor√°rios</a>
        <a class="btn btn-primary" id="ctaTop" href="#" target="_blank" rel="noopener">Agendar pelo WhatsApp</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- ========= Hero / Contexto ========= -->
    <section class="container hero" aria-labelledby="hero-title">
      <div class="card">
        <h2 id="hero-title">Agendamento simples e elegante</h2>
        <p class="sub">Escolha o servi√ßo, selecione um hor√°rio dispon√≠vel e confirme pelo WhatsApp.</p>

        <div class="meta" aria-label="Informa√ß√µes de atendimento">
          <div class="pill">Segundas-feiras</div>
          <div class="pill">09:00‚Äì18:00</div>
          <div class="pill">Almo√ßo 12:00‚Äì13:00</div>
        </div>

        <div style="margin-top:18px">
          <p class="sub"><strong>Como funciona:</strong> escolha o servi√ßo ‚Üí selecione o hor√°rio ‚Üí confirme no WhatsApp com mensagem autom√°tica.</p>
          <p class="sub">Hor√°rios carregados em tempo real via API (Google Apps Script + Google Sheets).</p>
        </div>

        <div style="margin-top:18px">
          <a class="btn btn-primary" href="#agendar">Ver hor√°rios e agendar</a>
        </div>
      </div>

      <!-- ========= Agenda / Slots ========= -->
      <aside class="card schedule" id="agendar" aria-labelledby="agenda-title">
        <h2 id="agenda-title">Hor√°rios dispon√≠veis</h2>
        <p class="sub">Exibimos apenas hor√°rios com disponibilidade ativa na planilha.</p>

        <div class="legend" aria-label="Legenda de status">
          <span><span class="dot ok"></span> Dispon√≠vel</span>
          <span><span class="dot warn"></span> Pendente</span>
          <span><span class="dot danger"></span> Indispon√≠vel</span>
        </div>

        <!-- Slots renderizados via JS -->
        <div class="slots" id="slots" role="list" aria-live="polite">
          <!-- Fallback inicial (substitu√≠do ao carregar API) -->
          <button class="slot" disabled>Carregando‚Ä¶</button>
          <button class="slot" disabled>Carregando‚Ä¶</button>
          <button class="slot" disabled>Carregando‚Ä¶</button>
        </div>

        <div style="display:flex; gap:10px; margin-top:8px">
          <button class="btn" id="refresh">Atualizar</button>
          <a class="btn btn-primary" id="ctaAside" href="#" target="_blank" rel="noopener">Agendar pelo WhatsApp</a>
        </div>
      </aside>
    </section>

    <!-- ========= Servi√ßos ========= -->
    <section class="container section" id="servicos" aria-labelledby="servicos-title">
      <h3 id="servicos-title">Servi√ßos</h3>
      <p>Selecione um servi√ßo para montar sua mensagem de agendamento. Dura√ß√£o estimada ajuda a escolher o melhor hor√°rio.</p>

      <div class="grid" role="list">
        <!-- Servi√ßo: Corte -->
        <article class="service" role="listitem">
          <div class="service-header">
            <div class="service-icon" aria-hidden="true">‚úÇÔ∏è</div>
            <div>
              <h4 class="service-title">Corte</h4>
              <div class="service-meta">30‚Äì60 min ‚Ä¢ Finaliza√ß√£o inclusa</div>
            </div>
          </div>
          <p class="service-desc">Corte feminino com acabamento premium, pensado para real√ßar textura e movimento.</p>
          <div class="service-actions">
            <button class="btn btn-primary" data-service="Corte">Agendar pelo WhatsApp</button>
            <button class="btn" data-service="Corte" data-info>Ver hor√°rios</button>
          </div>
        </article>

        <!-- Servi√ßo: Colora√ß√£o -->
        <article class="service" role="listitem">
          <div class="service-header">
            <div class="service-icon" aria-hidden="true">üé®</div>
            <div>
              <h4 class="service-title">Colora√ß√£o</h4>
              <div class="service-meta">90‚Äì150 min ‚Ä¢ Avalia√ß√£o pr√©via</div>
            </div>
          </div>
          <p class="service-desc">Colora√ß√£o e retoque com diagn√≥stico personalizado para preservar sa√∫de e brilho dos fios.</p>
          <div class="service-actions">
            <button class="btn btn-primary" data-service="Colora√ß√£o">Agendar pelo WhatsApp</button>
            <button class="btn" data-service="Colora√ß√£o" data-info>Ver hor√°rios</button>
          </div>
        </article>

        <!-- Servi√ßo: Hidrata√ß√£o -->
        <article class="service" role="listitem">
          <div class="service-header">
            <div class="service-icon" aria-hidden="true">üíß</div>
            <div>
              <h4 class="service-title">Hidrata√ß√£o</h4>
              <div class="service-meta">45‚Äì60 min</div>
            </div>
          </div>
          <p class="service-desc">Tratamento de hidrata√ß√£o profunda para recuperar maciez e reduzir frizz.</p>
          <div class="service-actions">
            <button class="btn btn-primary" data-service="Hidrata√ß√£o">Agendar pelo WhatsApp</button>
            <button class="btn" data-service="Hidrata√ß√£o" data-info>Ver hor√°rios</button>
          </div>
        </article>

        <!-- Servi√ßo: Escova -->
        <article class="service" role="listitem">
          <div class="service-header">
            <div class="service-icon" aria-hidden="true">üí®</div>
            <div>
              <h4 class="service-title">Escova</h4>
              <div class="service-meta">40‚Äì60 min ‚Ä¢ Acabamento premium</div>
            </div>
          </div>
          <p class="service-desc">Escova alinhada com prote√ß√£o t√©rmica e acabamento polido.</p>
          <div class="service-actions">
            <button class="btn btn-primary" data-service="Escova">Agendar pelo WhatsApp</button>
            <button class="btn" data-service="Escova" data-info>Ver hor√°rios</button>
          </div>
        </article>
      </div>
    </section>

    <!-- ========= Acessibilidade / Ajuda ========= -->
    <section class="container section" aria-labelledby="ajuda-title">
      <h3 id="ajuda-title">D√∫vidas r√°pidas</h3>
      <ul>
        <li><strong>Atendimento:</strong> apenas segundas-feiras, 09:00‚Äì18:00 (almo√ßo 12:00‚Äì13:00).</li>
        <li><strong>Confirma√ß√£o:</strong> voc√™ recebe a mensagem pronta no WhatsApp para finalizar.</li>
        <li><strong>Disponibilidade:</strong> hor√°rios v√™m da planilha e s√£o atualizados em tempo real.</li>
      </ul>
    </section>
  </main>

  <!-- ========= Rodap√© ========= -->
  <footer aria-label="Rodap√©">
    <div class="container footer-inner">
      <div>Projeto por Ana Paula Duarte ‚Ä¢ Identidade visual premium nude ‚Ä¢ @duarte.design</div>
      <div>
        <a class="btn" href="#servicos">Servi√ßos</a>
        <a class="btn" href="#agendar">Hor√°rios</a>
      </div>
    </div>
  </footer>

  <script>
    /* =========================================================
       Configura√ß√µes (editar conforme seu ambiente)
       ========================================================= */
    const CONFIG = {
      SHEETS_API_URL: 'https://SEU_APPS_SCRIPT_EXEC_URL/slots', // endpoint que retorna slots
      WHATSAPP_NUMBER: '5599999999999',                          // n√∫mero com DDI (ex.: 55 + DDD + n√∫mero)
      BUSINESS_NAME: 'Hair by Monica ‚Äî S√≥ de Segunda'
    };

    /* =========================================================
       Estado simples da p√°gina
       ========================================================= */
    const state = {
      selectedService: null,
      selectedSlot: null,
      slots: [] // {time:'09:00', status:'ok'|'warn'|'danger', available:true}
    };

    /* =========================================================
       Utilidades
       ========================================================= */
    function buildWhatsAppMessage(){
      const service = state.selectedService ? `Servi√ßo: ${state.selectedService}` : 'Servi√ßo: (selecionar)';
      const slot = state.selectedSlot ? `Hor√°rio: ${state.selectedSlot}` : 'Hor√°rio: (selecionar)';
      const text = `Ol√°! Gostaria de agendar no ${CONFIG.BUSINESS_NAME}.\n${service}\n${slot}\nObrigado(a)!`;
      return encodeURIComponent(text);
    }

    function getWhatsAppLink(){
      const msg = buildWhatsAppMessage();
      return `https://wa.me/${CONFIG.WHATSAPP_NUMBER}?text=${msg}`;
    }

    function setCTA(href){
      document.getElementById('ctaTop').setAttribute('href', href);
      document.getElementById('ctaAside').setAttribute('href', href);
    }

    function renderSlots(){
      const wrap = document.getElementById('slots');
      wrap.innerHTML = '';
      if(!state.slots.length){
        wrap.innerHTML = '<button class="slot" disabled>Nenhum hor√°rio dispon√≠vel</button>';
        return;
      }
      state.slots.forEach(s=>{
        const btn = document.createElement('button');
        btn.className = 'slot';
        btn.textContent = s.time;
        btn.disabled = !s.available || s.status === 'danger';
        btn.setAttribute('aria-label', `Hor√°rio ${s.time} ${s.available ? 'dispon√≠vel' : 'indispon√≠vel'}`);
        btn.addEventListener('click', ()=>{
          state.selectedSlot = s.time;
          setCTA(getWhatsAppLink());
          // feedback visual simples
          [...wrap.querySelectorAll('.slot')].forEach(el=>el.style.outline='none');
          btn.style.outline = '2px solid var(--brand)';
        });
        wrap.appendChild(btn);
      });
    }

    async function fetchSlots(){
      const wrap = document.getElementById('slots');
      wrap.innerHTML = '<button class="slot" disabled>Carregando‚Ä¶</button>';
      try{
        const res = await fetch(CONFIG.SHEETS_API_URL, {method:'GET'});
        const data = await res.json();
        // Espera-se um array de objetos: [{time:'09:00', available:true, status:'ok'}]
        state.slots = Array.isArray(data) ? data : [];
        renderSlots();
      }catch(e){
        wrap.innerHTML = '<button class="slot" disabled>Falha ao carregar. Tente novamente.</button>';
      }
    }

    /* =========================================================
       Intera√ß√µes de servi√ßo
       ========================================================= */
    document.querySelectorAll('[data-service]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const service = btn.getAttribute('data-service');
        state.selectedService = service;
        setCTA(getWhatsAppLink());
        // rolar para a agenda se for "Ver hor√°rios"
        if(btn.hasAttribute('data-info')){
          document.getElementById('agendar').scrollIntoView({behavior:'smooth', block:'start'});
        }else{
          // abrir WhatsApp direto
          window.open(getWhatsAppLink(), '_blank');
        }
      });
    });

    document.getElementById('refresh').addEventListener('click', fetchSlots);

    // Inicializa√ß√£o
    setCTA(getWhatsAppLink());
    fetchSlots();
  </script>
</body>
</html>


